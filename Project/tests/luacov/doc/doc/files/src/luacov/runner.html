<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../../../luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h1>LuaDoc</h1>
<ul>
	
	<li><a href="../../../index.html">Index</a></li>
	
</ul>


<!-- Module list -->



<!-- File list -->

<h1>Files</h1>
<ul>

	<li>
		<a href="../../../files/src/luacov.html">src/luacov.lua</a>
	</li>

	<li>
		<a href="../../../files/src/luacov/defaults.html">src/luacov/defaults.lua</a>
	</li>

	<li>
		<a href="../../../files/src/luacov/reporter.html">src/luacov/reporter.lua</a>
	</li>

	<li>
		<a href="../../../files/src/luacov/reporter/coveralls.html">src/luacov/reporter/coveralls.lua</a>
	</li>

	<li><strong>src/luacov/runner.lua</strong></li>
	
	<li>
		<a href="../../../files/src/luacov/stats.html">src/luacov/stats.lua</a>
	</li>

	<li>
		<a href="../../../files/src/luacov/tick.html">src/luacov/tick.lua</a>
	</li>

</ul>






</div> <!-- id="navigation" -->

<div id="content">

<h1>File <code>src/luacov/runner.lua</code></h1>







<h2>Functions</h2>
<table class="function_list">

	<tr>
	<td class="name" nowrap><a href="#runner.excludefile">runner.excludefile</a>&nbsp;(name)</td>
	<td class="summary">Adds a file to the exclude list (see <code>defaults.lua</code>).</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#runner.excludetree">runner.excludetree</a>&nbsp;(name, level)</td>
	<td class="summary">Adds a tree to the exclude list (see <code>defaults.lua</code>).</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#runner.includefile">runner.includefile</a>&nbsp;(name)</td>
	<td class="summary">Adds a file to the include list (see <code>defaults.lua</code>).</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#runner.includetree">runner.includetree</a>&nbsp;(name, level)</td>
	<td class="summary">Adds a tree to the include list (see <code>defaults.lua</code>).</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#runner.init">runner.init</a>&nbsp;(configuration)</td>
	<td class="summary">Initializes LuaCov runner to start collecting data.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#runner.load_config">runner.load_config</a>&nbsp;(configuration)</td>
	<td class="summary">Loads a valid configuration.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#runner.shutdown">runner.shutdown</a>&nbsp;()</td>
	<td class="summary">Shuts down LuaCov's runner.</td>
	</tr>

</table>






<br/>
<br/>




<h2><a name="functions"></a>Functions</h2>
<dl class="function">



<dt><a name="runner.excludefile"></a><strong>runner.excludefile</strong>&nbsp;(name)</dt>
<dd>
Adds a file to the exclude list (see <code>defaults.lua</code>). If passed a function, then through debuginfo the source filename is collected. In case of a table it will recursively search teh table for a function, which is then resolved to a filename through debuginfo. If the parameter is a string, it will first check if a file by that name exists. If it doesn't exist it will call <code>require(name)</code> to load a module by that name, and the result of require (function or table expected) is used as described above to get the sourcefile.


<h3>Parameters</h3>
<ul>
	
	<li>
	  name: string;   literal filename, string;   modulename as passed to require(), function; where containing file is looked up, table;    module table where containing file is looked up
	</li>
	
</ul>






<h3>Return value:</h3>
the pattern as added to the list, or nil + error



</dd>




<dt><a name="runner.excludetree"></a><strong>runner.excludetree</strong>&nbsp;(name, level)</dt>
<dd>
Adds a tree to the exclude list (see <code>defaults.lua</code>). If <code>name = 'luacov'</code> and <code>level = nil</code> then module 'luacov' (luacov.lua) and the tree 'luacov' (containing `luacov/runner.lua` etc.) is excluded. If <code>name = 'pl.path'</code> and <code>level = true</code> then module 'pl' (pl.lua) and the tree 'pl' (containing `pl/path.lua` etc.) is excluded. NOTE: in case of an 'init.lua' file, the 'level' parameter will always be set


<h3>Parameters</h3>
<ul>
	
	<li>
	  name: see <code>excludefile</code>
	</li>
	
	<li>
	  level: if truthy then one level up is added, including the tree
	</li>
	
</ul>






<h3>Return value:</h3>
the 2 patterns as added to the list (file and tree), or nil + error



</dd>




<dt><a name="runner.includefile"></a><strong>runner.includefile</strong>&nbsp;(name)</dt>
<dd>
Adds a file to the include list (see <code>defaults.lua</code>).


<h3>Parameters</h3>
<ul>
	
	<li>
	  name: see <code>excludefile</code>
	</li>
	
</ul>






<h3>Return value:</h3>
the pattern as added to the list, or nil + error



</dd>




<dt><a name="runner.includetree"></a><strong>runner.includetree</strong>&nbsp;(name, level)</dt>
<dd>
Adds a tree to the include list (see <code>defaults.lua</code>).


<h3>Parameters</h3>
<ul>
	
	<li>
	  name: see <code>excludefile</code>
	</li>
	
	<li>
	  level: see <code>includetree</code>
	</li>
	
</ul>






<h3>Return value:</h3>
the 2 patterns as added to the list (file and tree), or nil + error



</dd>




<dt><a name="runner.init"></a><strong>runner.init</strong>&nbsp;(configuration)</dt>
<dd>
Initializes LuaCov runner to start collecting data.


<h3>Parameters</h3>
<ul>
	
	<li>
	  configuration: if string, filename of config file (used to call <code>load_config</code>). If table then config table (see file <code>luacov.default.lua</code> for an example)
	</li>
	
</ul>








</dd>




<dt><a name="runner.load_config"></a><strong>runner.load_config</strong>&nbsp;(configuration)</dt>
<dd>
Loads a valid configuration.


<h3>Parameters</h3>
<ul>
	
	<li>
	  configuration: user provided config (config-table or filename)
	</li>
	
</ul>






<h3>Return value:</h3>
existing configuration if already set, otherwise loads a new config from the provided data or the defaults



</dd>




<dt><a name="runner.shutdown"></a><strong>runner.shutdown</strong>&nbsp;()</dt>
<dd>
Shuts down LuaCov's runner. This should only be called from daemon processes or sandboxes which have disabled os.exit and other hooks that are used to determine shutdown.









</dd>


</dl>







</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->	
</body>
</html>
